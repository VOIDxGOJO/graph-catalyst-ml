<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Graph Catalyst ML</title>
    <meta name="description" content="Predict catalyst and loading (mol %) for organic reactions" />
    <link rel="stylesheet" href="./styles.css" />
</head>

<body>
    <div class="app">
        <header class="topbar">
            <div class="brand">
                <svg class="logo" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M3 3h8v8H3zM13 3h8v8h-8zM3 13h8v8H3zM13 13h8v8h-8z"></path>
                </svg>
                <div>
                    <h1>Graph Catalyst ML</h1>
                    <p class="muted">Catalyst (agent) + solvent recommender (visual)</p>
                </div>
            </div>
            <nav class="nav">
                <button id="demo-btn" class="btn ghost">Try demo</button>
            </nav>
        </header>

        <main class="container">
            <section class="left-pane">
                <form id="predict-form" class="card form-card" autocomplete="off" aria-labelledby="form-title">
                    <h2 id="form-title">Reaction input (SMILES reactants.reagents&gt;&gt;product)</h2>
                    <label class="field">
                        <span class="label-text">Reaction SMILES</span>
                        <textarea id="smiles" name="smiles" placeholder="e.g. BrC1=CC=CC=C1.B(O)O>>Biphenyl" rows="3"
                            required></textarea>
                        <small class="hint">ORDerly-condition works best when reactants + product present. Product is
                            optional.</small>
                    </label>

                    <label class="field">
                        <span class="label-text">Product SMILES (optional)</span>
                        <input id="product" name="product" placeholder="Product SMILES" />
                    </label>

                    <div class="row">
                        <label class="field small"><span class="label-text">Temperature (°C)</span><input id="temp"
                                name="temp" placeholder="e.g. 25" inputmode="numeric" /></label>
                        <label class="field small"><span class="label-text">Reaction time (h)</span><input id="rxn_time"
                                name="rxn_time" placeholder="e.g. 0.75" /></label>
                        <label class="field small"><span class="label-text">Yield (%)</span><input id="yield"
                                name="yield" placeholder="e.g. 75" inputmode="numeric" /></label>
                    </div>

                    <div class="actions">
                        <button type="submit" id="run-btn" class="btn primary">Predict (Agent & Solvent)</button>
                        <button type="button" id="clear-btn" class="btn ghost">Clear</button>
                        <div class="spacer"></div>
                        <div id="status-area" aria-live="polite"></div>
                    </div>

                    <div class="samples">
                        <strong>Quick samples (from your dataset)</strong>
                        <div class="sample-list" id="sample-list"></div>
                    </div>
                </form>

                <section class="card info-card">
                    <h3>How it works</h3>
                    <p class="muted">This UI sends your reaction to the model server and shows predicted agent and
                        solvent as structures and SMILES.</p>
                    <ul class="notes">
                        <li>Backend: <code>POST /predict</code> (FastAPI)</li>
                        <li>Output: agent (SMILES), agent image, solvent (SMILES), solvent image.</li>
                    </ul>
                </section>
            </section>

            <aside class="right-pane">
                <section class="card result-card" id="result-card" aria-hidden="true">
                    <div class="result-header">
                        <h3>Prediction</h3>
                        <div class="result-actions">
                            <button id="copy-btn" class="btn tiny">Copy</button>
                            <button id="download-btn" class="btn tiny ghost">Download</button>
                        </div>
                    </div>

                    <div id="main-result" class="main-result">
                        <div class="placeholder">
                            <svg class="placeholder-gear" viewBox="0 0 24 24">
                                <path fill="currentColor" d="M12 8a4 4 0 100 8 4 4 0 000-8z"></path>
                            </svg>
                            <p class="muted">Run a prediction to see results here.</p>
                        </div>
                    </div>

                    <div id="alternatives" class="alternatives" aria-hidden="true"></div>

                    <details id="similar-panel" class="similar-panel" aria-hidden="true">
                        <summary>Nearest similar reactions</summary>
                        <div id="similar-list" class="similar-list"></div>
                    </details>
                </section>
            </aside>
        </main>

        <footer class="footer">
            <span class="muted">Expects POST http://127.0.0.1:8000/predict · v0.2</span>
        </footer>
    </div>

    <script src="./script.js" type="module"></script>
</body>

</html>