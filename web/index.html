<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Graph Catalyst ML: ORDerly (agent & solvent)</title>
    <meta name="description"
        content="Predict agent (catalyst/agent) and solvent from reaction SMILES (ORDerly-condition)" />
    <link rel="stylesheet" href="./styles.css" />
</head>

<body>
    <div class="app">
        <header class="topbar">
            <div class="brand">
                <svg class="logo" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M3 3h8v8H3zM13 3h8v8h-8zM3 13h8v8H3zM13 13h8v8h-8z"></path>
                </svg>
                <div>
                    <h1>Graph Catalyst ML</h1>
                    <p class="muted">Conservative: predict agent (catalyst/agent) & solvent from ORDerly-condition</p>
                </div>
            </div>
            <nav class="nav">
                <button id="demo-btn" class="btn ghost">Try demo</button>
            </nav>
        </header>

        <main class="container">
            <section class="left-pane">
                <form id="predict-form" class="card form-card" autocomplete="off" aria-labelledby="form-title">
                    <h2 id="form-title">Reaction input (what we actually use)</h2>

                    <label class="field">
                        <span class="label-text">Reaction SMILES (reactants.reagents>>product)</span>
                        <textarea id="smiles" name="smiles" placeholder="e.g. BrC1=CC=CC=C1.B(O)O>>Biphenyl" rows="3"
                            required></textarea>
                        <small class="hint">ORDerly-condition works best when reactants + product are present. Product
                            SMILES field below is optional but helpful.</small>
                    </label>

                    <label class="field">
                        <span class="label-text">Product SMILES (optional)</span>
                        <input id="product" name="product" placeholder="product SMILES (if known)" />
                    </label>

                    <div class="row">
                        <label class="field small">
                            <span class="label-text">Temperature (°C) (optional)</span>
                            <input id="temp" name="temp" placeholder="e.g. 25" inputmode="numeric" />
                        </label>

                        <label class="field small">
                            <span class="label-text">Reaction time (h) (optional)</span>
                            <input id="rxn_time" name="rxn_time" placeholder="e.g. 1" inputmode="numeric" />
                        </label>

                        <label class="field small">
                            <span class="label-text">Yield (%) (optional)</span>
                            <input id="yield" name="yield" placeholder="e.g. 75" inputmode="numeric" />
                        </label>
                    </div>

                    <div class="actions">
                        <button type="submit" id="run-btn" class="btn primary">Predict (Agent & Solvent)</button>
                        <button type="button" id="clear-btn" class="btn ghost">Clear</button>
                        <div class="spacer"></div>
                        <div id="status-area" aria-live="polite" class="muted-small"></div>
                    </div>

                    <div class="samples">
                        <strong>Quick samples (from your dataset)</strong>
                        <div class="sample-list" id="sample-list"></div>
                    </div>
                </form>

                <section class="card info-card">
                    <h3>What this app predicts</h3>
                    <ul class="notes">
                        <li><strong>Agent (agent_000):</strong> primary target (catalyst/base/agent). This is the field
                            we can realistically predict.</li>
                        <li><strong>Solvent (solvent_000):</strong> predicted as a separate target.</li>
                        <li><strong>Optional / low confidence:</strong> temperature, reaction time, yield (only if
                            dataset contains them; model quality will vary).</li>
                        <li><strong>Not available:</strong> catalyst loading (mol %): the dataset does not contain a
                            standardized loading column.</li>
                    </ul>
                    <p class="muted">Backend: <code>POST /predict</code>. Expected output JSON schema is described in
                        the code.</p>
                </section>
            </section>

            <aside class="right-pane">
                <section class="card result-card" id="result-card" aria-hidden="true">
                    <div class="result-header">
                        <h3>Prediction</h3>
                        <div class="result-actions">
                            <button id="copy-btn" class="btn tiny">Copy</button>
                            <button id="download-btn" class="btn tiny ghost">Download</button>
                        </div>
                    </div>

                    <div id="main-result" class="main-result">
                        <div class="placeholder">
                            <svg class="placeholder-gear" viewBox="0 0 24 24">
                                <path fill="currentColor" d="M12 8a4 4 0 100 8 4 4 0 000-8z"></path>
                            </svg>
                            <p class="muted">Run a prediction to see agent & solvent here.</p>
                        </div>
                    </div>

                    <div id="alternatives" class="alternatives" aria-hidden="true"></div>

                    <details id="similar-panel" class="similar-panel" aria-hidden="true">
                        <summary>Nearest similar reactions (retrieval)</summary>
                        <div id="similar-list" class="similar-list"></div>
                    </details>
                </section>

                <section class="card">
                    <h3>Activity log</h3>
                    <div id="log-entries" class="log-entries"></div>
                </section>
            </aside>
        </main>

        <footer class="footer">
            <span class="muted">Expects POST http://127.0.0.1:8000/predict · will predict agent & solvent
                reliably</span>
        </footer>
    </div>

    <script type="module" src="./script.js"></script>
</body>

</html>